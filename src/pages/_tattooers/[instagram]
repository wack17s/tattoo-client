import _ from 'lodash';

import { tattooerService } from '../../services/tattooer.service';
import { Tattooer, getStaticProps } from '../../screens/Tattooer';

export { getStaticProps };

export async function getStaticPaths() {
  const tattooers = await tattooerService.getTattooers();

  return {
    paths: _.flatten(tattooers.map(tattooer => ([{
      params: { instagram: tattooer.instagram, locale: 'ru' }
    }, {
      params: { instagram: tattooer.instagram, locale: 'ua' }
    }]))),
    fallback: true,
  }
}

export default Tattooer;
